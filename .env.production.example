# ============================================================
# PH4 Backend - PRODUCTION Environment Configuration
# ============================================================
# This file is a template for production deployment to Render.
# Copy relevant values to Render's Environment Variables dashboard.

# -------------------- Database --------------------
# MongoDB Atlas connection string (REQUIRED)
# Get from: https://cloud.mongodb.net → Connect → Drivers
# Example: mongodb+srv://username:password@cluster.mongodb.net/profithooks-db?retryWrites=true&w=majority
MONGO_URI=

# -------------------- JWT Authentication --------------------
# JWT secret key (REQUIRED - must be 32+ characters)
# Generate with: openssl rand -base64 48
# CRITICAL: Keep this secret and never commit to git
JWT_SECRET=

# JWT token expiry (default: 7d)
JWT_EXPIRE=7d

# -------------------- Server --------------------
# Port (Render sets this automatically - leave blank)
PORT=

# Node environment (MUST be 'production' for Render)
NODE_ENV=production

# -------------------- Security --------------------
# CORS allowed origins (comma-separated, NO SPACES)
# Add your frontend URL(s) here
# Example: https://yourapp.com,https://www.yourapp.com,https://app.yourapp.com
CORS_ORIGINS=

# CORS credentials (allow cookies/auth headers)
CORS_CREDENTIALS=true

# Trust proxy (REQUIRED for Render - enables rate limiting behind proxy)
TRUST_PROXY=true

# -------------------- Sentry (Optional but Recommended) --------------------
# Production error tracking
# Sign up at: https://sentry.io (free tier available)

# Enable Sentry error tracking
SENTRY_ENABLED=true

# Sentry DSN from https://sentry.io → Project Settings → Client Keys
# Example: https://abc123@o123456.ingest.sentry.io/7890123
SENTRY_DSN=

# Sentry environment name
SENTRY_ENVIRONMENT=production

# Sentry performance monitoring sample rate (0.0 to 1.0)
# 0.1 = 10% of requests, 1.0 = 100%
# Recommended: 0.1-0.2 in production to save quota
SENTRY_TRACES_SAMPLE_RATE=0.1

# -------------------- Logging --------------------
# Winston log level (error, warn, info, debug)
# Recommended: 'info' for production
LOG_LEVEL=info

# Log to console (Render captures console logs automatically)
LOG_CONSOLE=true

# ============================================================
# DEPLOYMENT CHECKLIST
# ============================================================
# 
# ✅ MongoDB Atlas cluster created with database user
# ✅ Network access configured (0.0.0.0/0 or specific IPs)
# ✅ JWT_SECRET generated (min 48 characters)
# ✅ CORS_ORIGINS set to your actual frontend domain(s)
# ✅ Sentry project created and DSN copied
# ✅ All environment variables added to Render dashboard
# ✅ Health endpoint tested: GET /api/health
# 
# ============================================================
